# 로봇 구성
무한궤도용 벨트, 리모컨, 스위치 B 중간(수동조작), 주황색 불(제자리 회전 가능), 안테나, 회전용 바퀴  

## 로봇 센서 구동
### rostopic list 
그걸 통해 살펴본 정보들  
/cmd_vel  
/imu  
/limo_status  
/odom  
/point_cloud  
/scan  
/tf  

tf를 제외 하고 설명

#### rostopic info /cmd_vel
작동을 조절하는 것, 유일한 subscriber  
#### rostopic info /imu
가속도나 관성 등의 값들을 publish 하는 기능  
#### rostopic info /limo_status
limo의 상태를 publish  
#### rostopic info /odom
odometry는 동작 센서의 데이터를 사용하여 시간경과에 따른 위치 변화를 추정하는 것이고 시작 위치에서 상대적인 위치를 추정하는 수치를 publish함
#### rostopic info /point_cloud  
Lidar 센서, RGB-D센서 등으로 수집되는 데이터를 point_cloud라고 하고  
이러한 센서들은 아래 그림처럼 물체에 빛/신호를 보내서 돌아오는 시간을 기록하여 각 빛/신호 당 거리 정보를 계산하고, 생성한 점을 publish한다.  
#### rostopic info /scan  
Laidar를 통해 들어오는 데이터들을 publish  
#### rostopic echo /scan  
라이다에 대한 데이터  
360도 감지해서 빛이 돌아오는 정도를 확인해서 거리를 확인함.  
탑재되어 있는 2d 라이다(근접, 저가)  


seq: 11049  
tamp:  
secs: 1736827329  
nsecs: 431926000  
frame_id: "laser_link"  
angle_min: -1.7453292608261108  
angle_max: 1.7453292608261108  
(1.75 = 90도)  
angle_increment: 0.009294652380049229  
각도 증가량  
time_increment: 0.00025099542108364403  
scan_time: 0.16440199315547943  
  
range_min: 0.019999999552965164  
range_max: 16.0  
최대, 최소 감지 범위 (Meter 단위)  

ranges: [0.0, 2.177000045776367, 2.190000057220459, 2.203000068664551, 2.2130000591278076, 2.2219998836517334, 2.23799991607666, 2.247999906539917, 2.259999990463257, 2.2780001163482666, 2.2890000343322754, 2.303999900817871, 2.319000005722046, 2.3350000381469727, 2.3570001125335693, 2.368000030517578, 2.390000104904175, 2.4019999504089355, 2.4159998893737793, 2.437000036239624, 2.4519999027252197, 2.4670000076293945, 2.5, 2.513000011444092, 2.5309998989105225, 2.559999942779541, 2.552000045776367, 3.693000078201294, 0.0, 3.683000087738037, 0.0, 3.6070001125335693, 3.6029999256134033, 3.6519999504089355, 3.687000036239624, 3.7070000171661377, 3.7760000228881836, 3.8239998817443848, 3.8359999656677246, 3.8910000324249268, 3.9260001182556152, 4.001999855041504, 4.051000118255615, 4.085000038146973, 4.144000053405762, 4.198999881744385, 4.256999969482422, 4.310999870300293, 4.366000175476074, 4.427000045776367, 4.4730000495910645, 4.494999885559082, 4.576000213623047, 4.6020002365112305, 4.589000225067139, 4.6020002365112305, 4.678999900817871, 4.76800012588501, 4.771999835968018, 4.747000217437744, 0.0, 4.716000080108643, 4.690000057220459, 4.664000034332275, 4.63700008392334, 4.624000072479248, 4.59499979019165, 4.572000026702881, 4.557000160217285, 4.539999961853027, 4.517000198364258, 4.497000217437744, 4.480999946594238, 4.455999851226807, 4.440999984741211, 4.419000148773193, 4.406000137329102, 4.392000198364258, 4.381999969482422, 4.372000217437744, 4.353000164031982, 4.3429999351501465, 4.329999923706055, 4.310999870300293, 4.307000160217285, 4.290999889373779, 4.271999835968018, 4.27400016784668, 4.263999938964844, 4.239999771118164, 4.230000019073486, 4.228000164031982, 4.2230000495910645, 4.2179999351501465, 4.191999912261963, 4.185999870300293, 4.178999900817871, 4.165999889373779, 0.0, 4.164000034332275, 4.164000034332275, 4.15500020980835, 4.14300012588501, 4.145999908447266, 4.139999866485596, 4.132999897003174, 4.13100004196167, 4.125999927520752, 4.120999813079834, 4.11899995803833, 4.107999801635742, 4.116000175476074, 4.116000175476074, 4.107999801635742, 4.109000205993652, 4.109000205993652, 4.10699987411499, 4.111999988555908, 4.104000091552734, 4.118000030517578, 4.118000030517578, 4.10699987411499, 4.122000217437744, 4.122000217437744, 4.123000144958496, 4.124000072479248, 4.124000072479248, 4.136000156402588, 4.144999980926514, 4.144000053405762, 4.15500020980835, 4.1539998054504395, 4.1620001792907715, 4.160999774932861, 4.173999786376953, 4.182000160217285, 4.191999912261963, 4.203000068664551, 4.2129998207092285, 4.203000068664551, 4.21999979019165, 4.239999771118164, 0.0, 4.245999813079834, 4.255000114440918, 4.26800012588501, 4.271999835968018, 4.296000003814697, 4.303999900817871, 4.309999942779541, 4.334000110626221, 4.3379998207092285, 4.3480000495910645, 4.366000175476074, 4.394000053405762, 4.4070000648498535, 4.418000221252441, 4.428999900817871, 4.446000099182129, 4.479000091552734, 4.49399995803833, 4.513000011444092, 4.53000020980835, 4.541999816894531, 4.565999984741211, 4.589000225067139, 4.611000061035156, 4.635000228881836, 4.658999919891357, 4.679999828338623, 4.703999996185303, 4.724999904632568, 4.75600004196167, 4.781000137329102, 4.800000190734863, 4.830999851226807, 4.86299991607666, 4.894999980926514, 4.929999828338623, 4.955999851226807, 4.984000205993652, 5.0289998054504395, 5.052000045776367, 5.090000152587891, 5.126999855041504, 5.1539998054504395, 5.205999851226807, 5.236000061035156, 5.2820000648498535, 5.311999797821045, 5.355999946594238, 5.392000198364258, 5.458000183105469, 5.511000156402588, 5.553999900817871, 5.6020002365112305, 5.646999835968018, 5.702000141143799, 5.744999885559082, 5.808000087738037, 5.848999977111816, 5.031000137329102, 5.001999855041504, 4.928999900817871, 4.906000137329102, 4.9029998779296875, 4.896999835968018, 4.916999816894531, 4.995999813079834, 0.0, 6.4679999351501465, 6.546000003814697, 6.607999801635742, 6.5370001792907715, 6.557000160217285, 6.631999969482422, 6.692999839782715, 6.734000205993652, 6.74399995803833, 0.0, 5.74399995803833, 5.7129998207092285, 0.0, 0.0, 7.677000045776367, 0.0, 5.668000221252441, 5.672999858856201, 5.691999912261963, 0.0, 0.0, 5.302999973297119, 0.0, 5.4070000648498535, 5.498000144958496, 5.5970001220703125, 5.706999778747559, 5.814000129699707, 5.942999839782715, 6.078000068664551, 6.196000099182129, 6.322000026702881, 6.47599983215332, 6.5960001945495605, 7.525000095367432, 7.565999984741211, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 6.309000015258789, 6.289000034332275, 6.283999919891357, 6.26800012588501, 6.271999835968018, 6.232999801635742, 5.609000205993652, 5.360000133514404, 5.335000038146973, 5.3429999351501465, 5.367000102996826, 5.380000114440918, 5.438000202178955, 6.236000061035156, 6.857999801635742, 0.0, 0.0, 2.3980000019073486, 1.065999984741211, 1.4019999504089355, 0.0, 0.0, 6.452000141143799, 0.0, 6.440000057220459, 1.5720000267028809, 1.5700000524520874, 1.5729999542236328, 1.5800000429153442, 1.5759999752044678, 1.5770000219345093, 1.5770000219345093, 1.5740000009536743, 1.5880000591278076, 1.5850000381469727, 1.569000005722046, 0.0, 5.034999847412109, 5.014999866485596, 4.13100004196167, 4.006999969482422, 3.9079999923706055, 3.865999937057495, 3.8480000495910645, 3.8350000381469727, 2.7909998893737793, 2.7799999713897705, 2.7750000953674316, 2.7309999465942383, 2.6480000019073486, 1.347000002861023, 1.3509999513626099, 1.312999963760376, 1.2960000038146973, 1.2699999809265137, 1.2300000190734863, 1.2109999656677246, 1.180999994277954, 1.128999948501587, 1.1160000562667847, 1.1109999418258667, 1.1069999933242798, 1.1069999933242798, 1.0989999771118164, 1.1039999723434448, 1.1039999723434448, 1.1119999885559082, 0.0, 1.1269999742507935, 1.1360000371932983, 1.1640000343322754, 1.180999994277954, 1.184000015258789, 1.2269999980926514, 1.2680000066757202, 1.305999994277954, 1.38100004196167, 0.0, 2.996999979019165, 3.01200008392334, 3.046999931335449, 3.013000011444092, 0.0, 0.0, 3.066999912261963, 3.046999931335449, 0.0, 0.0, 0.0, 8.097999572753906, 7.988999843597412, 7.875999927520752, 7.736999988555908, 7.650000095367432, 7.531000137329102, 7.466000080108643, 7.510000228881836, 7.544000148773193, 0.0, 1.875, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.7170000076293945, 0.0, 1.6859999895095825, 0.0, 1.6469999551773071, 0.0, 0.0, 1.6059999465942383, 1.5759999752044678, 1.5750000476837158, 1.5759999752044678, 1.5700000524520874, 0.0, 0.0, 0.0]  
튜플로 들어오는 스캔의 결과(0~360도)의 감지결과(거리값)  
양이 상당하기 때문에 원하는 데이터만 추출 필요  
intensities: [0.0, 54.0, 56.0, 56.0, 55.0, 54.0, 53.0, 54.0, 52.0, 51.0, 51.0, 50.0, 48.0, 49.0, 49.0, 50.0, 50.0, 47.0, 48.0, 47.0, 45.0, 46.0, 45.0, 47.0, 45.0, 48.0, 26.0, 6.0, 0.0, 17.0, 0.0, 10.0, 10.0, 7.0, 5.0, 5.0, 4.0, 5.0, 7.0, 8.0, 4.0, 4.0, 5.0, 4.0, 3.0, 4.0, 4.0, 3.0, 3.0, 3.0, 4.0, 3.0, 3.0, 18.0, 23.0, 17.0, 13.0, 16.0, 24.0, 21.0, 0.0, 22.0, 22.0, 20.0, 22.0, 23.0, 22.0, 24.0, 25.0, 25.0, 26.0, 25.0, 25.0, 27.0, 25.0, 31.0, 30.0, 30.0, 26.0, 26.0, 22.0, 24.0, 24.0, 22.0, 22.0, 19.0, 21.0, 19.0, 19.0, 18.0, 18.0, 20.0, 19.0, 18.0, 18.0, 15.0, 17.0, 16.0, 0.0, 18.0, 19.0, 18.0, 20.0, 18.0, 20.0, 20.0, 19.0, 19.0, 19.0, 18.0, 17.0, 17.0, 19.0, 20.0, 18.0, 17.0, 18.0, 20.0, 18.0, 18.0, 19.0, 17.0, 18.0, 19.0, 18.0, 18.0, 19.0, 20.0, 19.0, 23.0, 23.0, 22.0, 23.0, 25.0, 25.0, 23.0, 24.0, 25.0, 24.0, 23.0, 24.0, 23.0, 0.0, 24.0, 21.0, 20.0, 21.0, 21.0, 25.0, 22.0, 22.0, 23.0, 20.0, 24.0, 23.0, 23.0, 23.0, 25.0, 24.0, 25.0, 24.0, 27.0, 26.0, 24.0, 29.0, 24.0, 26.0, 27.0, 27.0, 27.0, 25.0, 27.0, 27.0, 25.0, 24.0, 23.0, 22.0, 21.0, 22.0, 19.0, 21.0, 21.0, 20.0, 19.0, 17.0, 20.0, 16.0, 18.0, 16.0, 14.0, 15.0, 14.0, 14.0, 14.0, 12.0, 13.0, 12.0, 12.0, 14.0, 11.0, 11.0, 17.0, 22.0, 23.0, 25.0, 24.0, 24.0, 22.0, 17.0, 0.0, 8.0, 7.0, 8.0, 18.0, 18.0, 14.0, 19.0, 16.0, 17.0, 0.0, 3.0, 5.0, 0.0, 0.0, 4.0, 0.0, 18.0, 13.0, 6.0, 0.0, 0.0, 15.0, 0.0, 15.0, 14.0, 15.0, 12.0, 13.0, 12.0, 11.0, 12.0, 10.0, 9.0, 6.0, 4.0, 6.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 16.0, 17.0, 15.0, 16.0, 16.0, 10.0, 18.0, 22.0, 24.0, 25.0, 26.0, 21.0, 11.0, 7.0, 5.0, 0.0, 0.0, 22.0, 54.0, 16.0, 0.0, 0.0, 13.0, 0.0, 4.0, 37.0, 53.0, 47.0, 39.0, 37.0, 32.0, 29.0, 28.0, 30.0, 26.0, 18.0, 0.0, 8.0, 26.0, 27.0, 24.0, 37.0, 36.0, 43.0, 39.0, 40.0, 51.0, 51.0, 40.0, 45.0, 62.0, 61.0, 57.0, 63.0, 61.0, 62.0, 62.0, 55.0, 58.0, 60.0, 61.0, 61.0, 59.0, 61.0, 61.0, 61.0, 61.0, 0.0, 61.0, 59.0, 58.0, 61.0, 60.0, 55.0, 56.0, 30.0, 5.0, 0.0, 2.0, 2.0, 2.0, 2.0, 0.0, 0.0, 2.0, 4.0, 0.0, 0.0, 0.0, 4.0, 7.0, 6.0, 6.0, 6.0, 10.0, 10.0, 12.0, 11.0, 0.0, 10.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.0, 0.0, 2.0, 0.0, 2.0, 0.0, 0.0, 3.0, 11.0, 64.0, 66.0, 16.0, 0.0, 0.0, 0.0]


## 카메라 센서 가동
### rostopic list
/camera/color/camera_info  
/camera/color/image_raw  
/camera/color/image_raw/compressed  
/camera/color/image_raw/compressed/parameter_descriptions  
/camera/color/image_raw/compressed/parameter_updates  
/camera/depth/camera_info  
/camera/depth/image_raw  
/camera/depth/points  
/camera/ir/camera_info  
/camera/ir/image_raw  
  
rosrun rqt_image_view rqt_image_view  
rqt 중 이미지 뷰 툴 실행  
크게 rgb 토픽과 depth 토픽으로 이루어짐  
  

 rostopic info /camera/color/image_raw/compressed  
Type: sensor_msgs/CompressedImage  (타입 이름)

Publishers: 
 * /image_transport (http://192.168.0.23:42361/) (publish 노드명, MASTER 주소)  

Subscribers: None


publish node명은 내가 설정하지만 subscribe 할 땐 작성된 노드명이 필요  


## SLAM  
Simultaneous Localization and Mapping  
1970년대 달 및 화성 탐사를 위한 ROVER 기반의 자율 주행 기술의 연구가 이루어졌었음. 카메라와 센서를 이용해서 얻은 측정정보로 위치를 추정하는 방법  
핵심은 Localization 내 위치 파악  
다양한 센서를 활용한 기술들이 존재  
camera slam, lidar slam 등등  
Lidar만 사용하는 Hector SLAM  
라이다와 필터링 하지 않은 odometry(주행기록치)값을 사용하는 G-Mapping  
라이다와 필터링한 odometry(주행기록치)값을 사용하는 G-Mapping  
